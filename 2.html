<html lang="zh-CN"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæ—¥å¿«ä¹ï¼</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Google Fonts - ZCOOL KuaiLe -->
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&amp;display=swap" rel="stylesheet">
    <!-- GSAP åŠ¨ç”»åº“ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <!-- particles.js -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B8B',
                        secondary: '#8B5CF6',
                        accent: '#06D6A0',
                        info: '#118AB2',
                        warning: '#FFD166',
                    },
                    fontFamily: {
                        'cute': ['ZCOOL KuaiLe', 'cursive'],
                    },
                    animation: {
                        'float': 'float 3s ease-in-out infinite',
                        'float-slow': 'float 4s ease-in-out infinite',
                        'float-fast': 'float 2s ease-in-out infinite',
                        'twinkle': 'twinkle 1s ease-in-out infinite alternate',
                        'spin-slow': 'spin 8s linear infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        twinkle: {
                            '0%': { transform: 'scale(1)' },
                            '100%': { transform: 'scale(1.1)' },
                        }
                    },
                    boxShadow: {
                        'neon': '0 0 5px theme("colors.primary"), 0 0 20px theme("colors.primary")',
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            }
            .text-shadow-lg {
                text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.5);
            }
            .backdrop-blur-sm {
                backdrop-filter: blur(4px);
            }
            .glass-effect {
                background: rgba(255, 255, 255, 0.2);
                backdrop-filter: blur(8px);
                border: 1px solid rgba(255, 255, 255, 0.3);
            }
        }
        
        /* è‡ªå®šä¹‰æ ·å¼ */
        body {
            font-family: 'ZCOOL KuaiLe', cursive;
            overflow-x: hidden;
        }
        
        .flame {
            transition: all 0.3s ease;
        }
        
        .flame.blown {
            transform: scale(0);
            opacity: 0;
        }
        
        .video-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: opacity 0.3s ease;
        }
        
        .video-overlay:hover {
            background-color: rgba(0, 0, 0, 0.4);
        }
        
        .play-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 0.3s ease;
        }
        
        .play-button:hover {
            transform: scale(1.1);
        }
        
        .play-button::before {
            content: '';
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 15px 0 15px 25px;
            border-color: transparent transparent transparent #FF6B8B;
        }
        
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
        }
        
        /* è¡¨æƒ…åŒ…æ‰è½åŠ¨ç”» */
        @keyframes fall {
            0% {
                transform: translateX(-50%) translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateX(-50%) translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
        
        /* æ°”çƒåŠ¨ç”» */
        @keyframes balloon-float {
            0% {
                transform: translateY(100vh) rotate(0deg);
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
            }
        }
        
        /* æ˜Ÿæ˜Ÿé—ªçƒåŠ¨ç”» */
        @keyframes star-twinkle {
            0% {
                opacity: 0.3;
                transform: scale(0.8);
            }
            50% {
                opacity: 1;
                transform: scale(1.2);
            }
            100% {
                opacity: 0.3;
                transform: scale(0.8);
            }
        }
    </style>
</head>
<body>
    <!-- æ—¥æœŸéªŒè¯é¡µé¢ -->
    <div id="date-check" class="min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 p-4">
        <div class="bg-white rounded-xl p-8 max-w-md w-full shadow-lg">
            <p class="text-lg md:text-xl text-gray-800 mb-6 text-center font-cute">ä»Šå¤©æ˜¯å‡ å·ï¼Ÿ</p>
            <div class="flex justify-center">
                <input type="text" id="date-input" placeholder="ä¾‹å¦‚ï¼š11.1" class="px-6 py-3 rounded-full border-2 border-primary focus:outline-none focus:ring-4 focus:ring-primary/30 text-center text-lg w-40 font-cute">
            </div>
            <div class="text-center mt-6">
                <button onclick="validateDate()" id="confirm-date" class="bg-primary hover:bg-primary/80 text-white py-3 px-8 rounded-full shadow-lg transition-all transform hover:scale-105 font-cute text-lg">
                    <i class="fa fa-check-circle mr-2"></i>ç¡®è®¤
                </button>
            </div>
            <p id="error-message" class="text-red-500 text-center mt-4 hidden font-cute">æ—¥æœŸä¸å¯¹å“¦ï¼Œå†æƒ³æƒ³çœ‹ï¼</p>
        </div>
    </div>

    <!-- ä¸»é¡µé¢ -->
    <div id="birthday-page" class="min-h-screen bg-cover bg-center relative" style="background-image: url('https://p9-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/bc022625c8fc4212876af85cc04394cb~tplv-a9rns2rl98-image.image?rcl=20251026093343D2B50CD2956EBB03149A&amp;rk3s=8e244e95&amp;rrcfp=f06b921b&amp;x-expires=1764034442&amp;x-signature=DiU8JdJRsGOgBj94DdNrALXoI50%3D'); display: none;">
        <!-- ç²’å­èƒŒæ™¯ -->
        <div id="particles-js"></div>
        
        <!-- åŠ¨æ€æ°”çƒ -->
        <div id="balloons-container" class="absolute inset-0 pointer-events-none"></div>
        
        <!-- åŠ¨æ€æ˜Ÿæ˜Ÿ -->
        <div id="stars-container" class="absolute inset-0 pointer-events-none"></div>
        
        <!-- é¡µé¢å†…å®¹ -->
        <div class="container mx-auto px-4 py-8 relative z-10">
            <!-- æ ‡é¢˜åŒºåŸŸ -->
            <div class="text-center mb-8">
                <img src="https://p3-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/44663473c630488c8ce8c5184a9c2b4e.png~tplv-a9rns2rl98-24:720:720.png?rcl=20251026144708DC0A1E40A1DF1544C65D&amp;rk3s=8e244e95&amp;rrcfp=8a172a1a&amp;x-expires=1762066029&amp;x-signature=aOZHPcQefYmHmty9KmvmI5eO%2FmA%3D" alt="ç”Ÿæ—¥å¿«ä¹" class="w-100 md:w-120 mx-auto mb-4 animate-float">
                <h1 class="text-4xl md:text-6xl font-bold text-white mb-4 text-shadow-lg animate-float">ğŸ‰ ç¥ææ¬£æ‚¦ç”Ÿæ—¥å¿«ä¹ï¼!ï¼ ğŸ‰</h1>
                <p class="text-xl md:text-2xl text-white text-shadow animate-float-slow">æ„¿ä»Šå¤©å……æ»¡æ¬¢ç¬‘å’Œç¾å¥½å›å¿†ï¼</p>
            </div>
            
            <!-- ç”Ÿæ—¥è›‹ç³•åŒºåŸŸ -->
            <div class="text-center mb-12">
                <div id="cake-container" class="relative inline-block">
                    <!-- ä½¿ç”¨é€æ˜èƒŒæ™¯çš„è›‹ç³•å›¾ç‰‡ -->
                    <img src="https://p11-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/5553a360f75b4ef7b5be12a3ec548497.png~tplv-a9rns2rl98-24:720:720.png?rcl=20251026142310FA13274710DF543336F4&amp;rk3s=8e244e95&amp;rrcfp=8a172a1a&amp;x-expires=1762064590&amp;x-signature=a72SLriME6inKu8qpMptchA4uLs%3D" alt="ç”Ÿæ—¥è›‹ç³•" class="cake w-64 md:w-80 drop-shadow-2xl">
                </div>
            </div>
            
            <!-- ç¥ç¦è¯­åŒºåŸŸ -->
            <div id="birthday-message" class="bg-white/80 backdrop-blur-sm rounded-xl p-6 md:p-8 shadow-lg max-w-2xl mx-auto mb-12">
                <h2 class="text-2xl md:text-3xl font-bold text-primary mb-4 text-center">ç”Ÿæ—¥ç¥ç¦</h2>
                <p class="text-lg text-gray-800 mb-4">äº²çˆ±çš„æœ‹å‹ï¼Œ</p>
                <p class="text-lg text-gray-800 mb-4">åœ¨è¿™ä¸ªç‰¹åˆ«çš„æ—¥å­é‡Œï¼Œç¥ä½ ç”Ÿæ—¥å¿«ä¹ï¼æ„¿ä½ æ¯ä¸€å¤©éƒ½å……æ»¡é˜³å…‰å’Œç¬‘å®¹ï¼Œæ‰€æœ‰çš„æ¢¦æƒ³éƒ½èƒ½æˆçœŸï¼Œæ‰€æœ‰çš„æ„¿æœ›éƒ½èƒ½å®ç°ï¼</p>
                <p class="text-lg text-gray-800 mb-4">å¸Œæœ›è¿™ä¸ªå°å°çš„ç½‘é¡µèƒ½ç»™ä½ å¸¦æ¥æ¬¢ä¹å’ŒæƒŠå–œ</p>
                <p class="text-lg text-gray-800 text-right">çˆ±ä½ çš„æœ‹å‹</p>
            </div>
            
            <!-- è§†é¢‘åŒºåŸŸ -->
            <div id="video-section" class="mb-8">
                <div class="video-container">
                    <div id="video-overlay" class="video-overlay">
                        <div class="play-button"></div>
                    </div>
                    <video id="birthday-video" class="w-full h-auto" poster="https://p3-doubao-search-sign.byteimg.com/labis/f158542242f342c55e953ada114f5610~tplv-be4g95zd3a-image.jpeg?rk3s=542c0f93&amp;x-expires=1776994430&amp;x-signature=ZtI8DF7uYIuFR7Dnu8ErXxjpV6c%3D" controls="">
                        <source src="https://example.com/birthday-video.mp4" type="video/mp4">
                        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                    </video>
                </div>
                <p class="text-center text-white mt-4 text-shadow">ç‚¹å‡»æ’­æ”¾ç”Ÿæ—¥ç¥ç¦è§†é¢‘</p>
            </div>
        </div>
    </div>

    <script>
        // ç®€åŒ–ç‰ˆæ—¥æœŸéªŒè¯åŠŸèƒ½
        function validateDate() {
            const inputValue = document.getElementById('date-input').value.trim();
            const correctDate = '11.1';
            
            if (inputValue === correctDate) {
                // æ—¥æœŸæ­£ç¡®ï¼Œæ˜¾ç¤ºç”Ÿæ—¥é¡µé¢
                document.getElementById('date-check').style.display = 'none';
                document.getElementById('birthday-page').style.display = 'block';
                
                // åˆå§‹åŒ–ç”Ÿæ—¥é¡µé¢çš„åŠ¨ç”»å’ŒåŠŸèƒ½
                initBirthdayPage();
                
                // å¼€å§‹æ‰è½è¡¨æƒ…åŒ…
                startEmojiRain();
            } else {
                // æ—¥æœŸé”™è¯¯ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
                document.getElementById('error-message').style.display = 'block';
                
                // æ·»åŠ é”™è¯¯åŠ¨ç”»
                gsap.from(document.getElementById('error-message'), {
                    y: -10,
                    opacity: 0,
                    duration: 0.5
                });
                
                // è¾“å…¥æ¡†éœ‡åŠ¨æ•ˆæœ
                gsap.from(document.getElementById('date-input'), {
                    x: 10,
                    repeat: 3,
                    yoyo: true,
                    duration: 0.1
                });
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåç»‘å®šäº‹ä»¶
        window.onload = function() {
            console.log('é¡µé¢åŠ è½½å®Œæˆ');
            
            // ç»‘å®šè¾“å…¥æ¡†å›è½¦äº‹ä»¶
            const dateInput = document.getElementById('date-input');
            if (dateInput) {
                dateInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        validateDate();
                    }
                });
                console.log('è¾“å…¥æ¡†å›è½¦äº‹ä»¶å·²ç»‘å®š');
            }
        }
        
        // åˆå§‹åŒ–ç”Ÿæ—¥é¡µé¢çš„åŠ¨ç”»å’ŒåŠŸèƒ½
        function initBirthdayPage() {
            // åˆ›å»ºåŠ¨æ€æ°”çƒ
            createBalloons();
            
            // åˆ›å»ºåŠ¨æ€æ˜Ÿæ˜Ÿ
            createStars();
            
            // åˆ›å»ºæ—‹è½¬çš„ç¤¼ç‰©ç›’
            createGiftBoxes();
            
            // åˆå§‹åŒ–ç²’å­æ•ˆæœ
            initParticles();
            
            // åˆå§‹åŒ–è§†é¢‘æ’­æ”¾åŠŸèƒ½
            initVideoPlayer();
            
            // åˆå§‹åŒ–è›‹ç³•èœ¡çƒ›å¹ç­åŠŸèƒ½
            initCakeCandles();
            
            // æ·»åŠ é¡µé¢è½½å…¥åŠ¨ç”»
            gsap.from('.container > div', {
                y: 50,
                opacity: 0,
                duration: 1,
                stagger: 0.2,
                ease: 'power3.out'
            });
            
            // æ·»åŠ é£˜è½çš„å½©å¸¦æ•ˆæœ
            setTimeout(createFallingConfetti, 2000);
        }
        
        // åˆ›å»ºåŠ¨æ€æ°”çƒ
        function createBalloons() {
            const container = document.getElementById('balloons-container');
            const balloonImages = [
                'https://p3-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/682c0f3a563e4cd991139899638af2c1.png~tplv-a9rns2rl98-24:720:720.png?rcl=2025102613385840D32ED41B3FD324FC3B&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1762061938&x-signature=MJZi36afFjWkSQYcC3ab0xnNMhw%3D',
                'https://p3-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/c72443dd3972400cac364c2f06edb4fc.png~tplv-a9rns2rl98-24:720:720.png?rcl=2025102613385840D32ED41B3FD324FC3B&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1762061938&x-signature=Hg0Cw%2BZwQ%2Fe68gh3n7fpk%2FMLWzY%3D',
                'https://p3-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/c02cfed76ef549b3a2192b7042fe8846.png~tplv-a9rns2rl98-24:720:720.png?rcl=2025102613385840D32ED41B3FD324FC3B&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1762061938&x-signature=vPj5Xh5Y5hcFpocEDIFEnSngD1k%3D',
                'https://p26-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/d98da1f727624dd29864fd6fc4d4e78a.png~tplv-a9rns2rl98-24:720:720.png?rcl=20251026142701ED7354B058C17078848C&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1762064821&x-signature=2zkB86jlUJEBwZbL8SDiRBadYJU%3D'
            ];
            const balloonCount = 6; // å¢åŠ æ°”çƒæ•°é‡
            
            // æ¸…ç©ºå®¹å™¨ï¼Œé‡æ–°åˆ›å»ºæ‰€æœ‰æ°”çƒ
            container.innerHTML = '';
            
            for (let i = 0; i < balloonCount; i++) {
                const balloon = document.createElement('img');
                
                // éšæœºè®¾ç½®æ°”çƒå±æ€§
                const width = Math.floor(Math.random() * 40) + 180; // 180px - 220px (å‡å°‘å®½åº¦)
                const height = Math.floor(Math.random() * 40) + 240; // 240px - 280px (ä¿æŒé«˜åº¦)
                const left = Math.floor(Math.random() * 100); // 0% - 100%
                const animationDuration = Math.floor(Math.random() * 20) + 30; // 30s - 50s (è°ƒæ…¢æ°”çƒä¸Šå‡é€Ÿåº¦)
                const animationDelay = Math.floor(Math.random() * 10); // 0s - 10s
                
                // è®¾ç½®æ°”çƒæ ·å¼
                balloon.src = balloonImages[Math.floor(Math.random() * balloonImages.length)];
                balloon.alt = 'æ°”çƒ';
                balloon.style.width = `${width}px`;
                balloon.style.height = `${height}px`;
                balloon.style.position = 'absolute';
                balloon.style.left = `${left}%`;
                balloon.style.bottom = '-200px';
                balloon.style.transform = 'translateX(-50%)';
                balloon.style.animation = `balloon-float ${animationDuration}s linear ${animationDelay}s infinite`;
                balloon.style.pointerEvents = 'none'; // ç§»é™¤ç‚¹å‡»äº‹ä»¶
                
                container.appendChild(balloon);
                
                // ç›‘å¬åŠ¨ç”»ç»“æŸäº‹ä»¶ï¼Œç¡®ä¿æ°”çƒä¸ä¼šæ¶ˆå¤±
                balloon.addEventListener('animationend', function() {
                    // åŠ¨ç”»ç»“æŸåï¼Œé‡æ–°å¼€å§‹åŠ¨ç”»
                    this.style.animation = 'none';
                    this.offsetHeight; // è§¦å‘é‡æ’
                    this.style.animation = `balloon-float ${animationDuration}s linear ${Math.random() * 5}s infinite`;
                });
            }
        }
        
        // åˆ›å»ºæ°”çƒçˆ†ç‚¸æ•ˆæœï¼ˆå·²å–æ¶ˆï¼‰
        function createBalloonExplosion(balloon) {
            // å–æ¶ˆæ°”çƒçˆ†ç‚¸åŠŸèƒ½
            return;
        }
        
        // åˆ›å»ºåŠ¨æ€æ˜Ÿæ˜Ÿ
        function createStars() {
            const container = document.getElementById('stars-container');
            const starCount = 30;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                
                // éšæœºè®¾ç½®æ˜Ÿæ˜Ÿå±æ€§
                const size = Math.floor(Math.random() * 8) + 4; // 4px - 12px
                const left = Math.floor(Math.random() * 100); // 0% - 100%
                const top = Math.floor(Math.random() * 100); // 0% - 100%
                const animationDuration = Math.floor(Math.random() * 2) + 1; // 1s - 3s
                const animationDelay = Math.floor(Math.random() * 5); // 0s - 5s
                
                // è®¾ç½®æ˜Ÿæ˜Ÿæ ·å¼
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.backgroundColor = 'white';
                star.style.borderRadius = '50%';
                star.style.position = 'absolute';
                star.style.left = `${left}%`;
                star.style.top = `${top}%`;
                star.style.animation = `star-twinkle ${animationDuration}s ease-in-out ${animationDelay}s infinite`;
                star.style.boxShadow = '0 0 10px white';
                
                container.appendChild(star);
            }
        }
        
        // åˆ›å»ºç¤¼ç‰©ç›’
        function createGiftBoxes() {
            const container = document.getElementById('birthday-page');
            const giftBoxImages = [
                'https://p11-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/59ae7818a05e4e0a9beb0e6c7e08b0d6.png~tplv-a9rns2rl98-24:720:720.png?rcl=202510261345290B36ED25D1D32E2691F5&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1762062330&x-signature=1gbXHL0c4rfMoH7bDvOzZlxPh9M%3D',
                'https://p26-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/daa452dada064a94b42d8decfd92a0d8.png~tplv-a9rns2rl98-24:720:720.png?rcl=20251026153244E8B619B2BF418639B97D&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1762068764&x-signature=9eAd%2BhR%2FFcZOpC0M%2BRzVIU0lzfw%3D'
            ];
            const giftBoxCount = 2; // åªéœ€è¦ä¸¤ä¸ªç¤¼å“ç›’ï¼Œåˆ†åˆ«é“¾æ¥åˆ°ç”Ÿæ—¥ç¥ç¦å’Œè§†é¢‘
            
            // è®¡ç®—é—´è·ç›¸ç­‰çš„ä½ç½®
            const spacing = 100 / (giftBoxCount + 1);
            
            for (let i = 0; i < giftBoxCount; i++) {
                // åˆ›å»ºé“¾æ¥å®¹å™¨
                const giftLink = document.createElement('a');
                
                // è®¾ç½®é“¾æ¥ç›®æ ‡
                if (i === 0) {
                    giftLink.href = '#birthday-message'; // é“¾æ¥åˆ°ç”Ÿæ—¥ç¥ç¦æ–‡æ¡ˆ
                } else {
                    giftLink.href = '#video-section'; // é“¾æ¥åˆ°è§†é¢‘
                }
                
                // è®¾ç½®é“¾æ¥æ ·å¼
                giftLink.style.position = 'absolute';
                giftLink.style.left = i === 0 ? '10%' : '90%'; // é ä¸¤è¾¹æ‘†æ”¾
                giftLink.style.bottom = '20px';
                giftLink.style.transform = 'translateX(-50%)';
                giftLink.style.cursor = 'pointer';
                giftLink.style.zIndex = '10';
                
                // åˆ›å»ºç¤¼å“ç›’å›¾ç‰‡
                const giftBox = document.createElement('img');
                
                // è®¾ç½®ç¤¼ç‰©ç›’å±æ€§
                const size = Math.floor(Math.random() * 80) + 300; // 300px - 380px (å¢å¤§å°ºå¯¸)
                
                // è®¾ç½®ç¤¼ç‰©ç›’æ ·å¼
                giftBox.src = giftBoxImages[i]; // ä½¿ç”¨ä¸åŒçš„å›¾ç‰‡
                giftBox.alt = 'ç¤¼ç‰©ç›’';
                giftBox.style.width = `${size}px`;
                giftBox.style.height = `${size}px`;
                giftBox.style.animation = 'float 3s ease-in-out infinite';
                giftBox.style.transition = 'transform 0.3s ease';
                
                // æ·»åŠ æ‚¬åœæ•ˆæœ
                giftLink.addEventListener('mouseenter', function() {
                    giftBox.style.transform = 'scale(1.1)';
                });
                
                giftLink.addEventListener('mouseleave', function() {
                    giftBox.style.transform = 'scale(1)';
                });
                
                // æ·»åŠ ç‚¹å‡»æ•ˆæœ
                giftLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if (targetElement) {
                        // å¹³æ»‘æ»šåŠ¨åˆ°ç›®æ ‡ä½ç½®
                        window.scrollTo({
                            top: targetElement.offsetTop - 100,
                            behavior: 'smooth'
                        });
                        
                        // æ·»åŠ ç‚¹å‡»åé¦ˆ
                        giftBox.style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            giftBox.style.transform = 'scale(1)';
                        }, 200);
                    }
                });
                
                // å°†ç¤¼å“ç›’æ·»åŠ åˆ°é“¾æ¥å®¹å™¨
                giftLink.appendChild(giftBox);
                
                // å°†é“¾æ¥å®¹å™¨æ·»åŠ åˆ°é¡µé¢
                container.appendChild(giftLink);
            }
        }
        
        // åˆ›å»ºé£˜è½çš„å½©å¸¦æ•ˆæœ
        function createFallingConfetti() {
            const container = document.getElementById('birthday-page');
            const confettiCount = 100;
            const colors = ['#FF6B8B', '#8B5CF6', '#06D6A0', '#118AB2', '#FFD166'];
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                
                // éšæœºè®¾ç½®å½©å¸¦å±æ€§
                const size = Math.floor(Math.random() * 10) + 5; // 5px - 15px
                const left = Math.floor(Math.random() * 100); // 0% - 100%
                const rotation = Math.floor(Math.random() * 360); // 0åº¦ - 360åº¦
                const animationDuration = Math.floor(Math.random() * 5) + 5; // 5s - 10s (å‡æ…¢é€Ÿåº¦)
                const animationDelay = Math.floor(Math.random() * 5); // 0s - 5s
                
                // è®¾ç½®å½©å¸¦æ ·å¼
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size * 3}px`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.position = 'absolute';
                confetti.style.left = `${left}%`;
                confetti.style.top = '-50px';
                confetti.style.transform = `rotate(${rotation}deg)`;
                confetti.style.animation = `fall ${animationDuration}s linear ${animationDelay}s infinite`;
                confetti.style.pointerEvents = 'none';
                
                container.appendChild(confetti);
            }
        }
        
        // åˆå§‹åŒ–ç²’å­æ•ˆæœ
        function initParticles() {
            particlesJS('particles-js', {
                "particles": {
                    "number": {
                        "value": 80,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": ["#FF6B8B", "#8B5CF6", "#06D6A0", "#118AB2", "#FFD166"]
                    },
                    "shape": {
                        "type": "circle",
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        }
                    },
                    "opacity": {
                        "value": 0.5,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 5,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 2,
                            "size_min": 0.1,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 150,
                        "color": "#ffffff",
                        "opacity": 0.2,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 1,
                        "direction": "none",
                        "random": true,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": true,
                            "mode": "grab"
                        },
                        "onclick": {
                            "enable": true,
                            "mode": "push"
                        },
                        "resize": true
                    },
                    "modes": {
                        "grab": {
                            "distance": 140,
                            "line_linked": {
                                "opacity": 0.5
                            }
                        },
                        "push": {
                            "particles_nb": 4
                        }
                    }
                },
                "retina_detect": true
            });
        }
        
        // åˆå§‹åŒ–è§†é¢‘æ’­æ”¾åŠŸèƒ½
        function initVideoPlayer() {
            const video = document.getElementById('birthday-video');
            const videoOverlay = document.getElementById('video-overlay');
            
            // ç‚¹å‡»æ’­æ”¾æŒ‰é’®æ’­æ”¾è§†é¢‘
            videoOverlay.addEventListener('click', function() {
                video.play();
                videoOverlay.style.display = 'none';
                
                // è§†é¢‘æ’­æ”¾å®Œæˆåæ˜¾ç¤ºé‡æ’­æŒ‰é’®
                video.addEventListener('ended', function() {
                    videoOverlay.style.display = 'flex';
                });
            });
        }
        
        // åˆå§‹åŒ–è›‹ç³•èœ¡çƒ›å¹ç­åŠŸèƒ½
        function initCakeCandles() {
            const cakeContainer = document.getElementById('cake-container');
            const flames = document.querySelectorAll('.flame');
            let candlesBlown = 0;
            
            cakeContainer.addEventListener('click', function() {
                // éšæœºå¹ç­1-3æ ¹èœ¡çƒ›
                const candlesToBlow = Math.floor(Math.random() * 3) + 1;
                
                flames.forEach((flame, index) => {
                    if (!flame.classList.contains('blown') && index < candlesBlown + candlesToBlow) {
                        flame.classList.add('blown');
                        candlesBlown++;
                        
                        // æ·»åŠ å¹ç­åŠ¨ç”»
                        gsap.to(flame, {
                            scale: 0,
                            opacity: 0,
                            duration: 0.3
                        });
                    }
                });
                
                // æ‰€æœ‰èœ¡çƒ›éƒ½è¢«å¹ç­åè§¦å‘åº†ç¥æ•ˆæœ
                if (candlesBlown >= flames.length) {
                    setTimeout(() => {
                        createFallingConfetti();
                        
                        // æ·»åŠ è›‹ç³•åº†ç¥åŠ¨ç”»
                        gsap.to('.cake', {
                            scale: 1.1,
                            duration: 0.5,
                            repeat: 3,
                            yoyo: true
                        });
                    }, 500);
                }
            });
        }
        
        // è¡¨æƒ…åŒ…æ‰è½æ•ˆæœ
        function startEmojiRain() {
            const emojis = ['â¤ï¸', 'ğŸ¥³', 'ğŸ¶', 'ğŸ‚', 'ğŸ©', 'ğŸ¨', 'ğŸ«', 'ğŸ¬', 'ğŸ­', 'ğŸ§', 'ğŸª', 'ğŸ‡', 'ğŸ‰', 'ğŸ‹', 'ğŸ', 'ğŸ«', 'ğŸ‘', 'ğŸ“', 'ğŸ’', 'ğŸ', 'ğŸ', 'ğŸ¥'];
            const container = document.getElementById('birthday-page');
            const emojiCount = 50;
            
            // åˆ›å»ºè¡¨æƒ…åŒ…å®¹å™¨
            let emojiContainer = document.getElementById('emoji-container');
            if (!emojiContainer) {
                emojiContainer = document.createElement('div');
                emojiContainer.id = 'emoji-container';
                emojiContainer.style.position = 'fixed';
                emojiContainer.style.top = '0';
                emojiContainer.style.left = '0';
                emojiContainer.style.width = '100%';
                emojiContainer.style.height = '100%';
                emojiContainer.style.pointerEvents = 'none';
                emojiContainer.style.zIndex = '100';
                container.appendChild(emojiContainer);
            }
            
            // ç”Ÿæˆè¡¨æƒ…åŒ…
            for (let i = 0; i < emojiCount; i++) {
                setTimeout(() => {
                    const emoji = document.createElement('div');
                    emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                    emoji.style.position = 'absolute';
                    emoji.style.fontSize = `${Math.floor(Math.random() * 20) + 20}px`;
                    emoji.style.left = `${Math.floor(Math.random() * 100)}%`;
                    emoji.style.top = '-50px';
                    emoji.style.opacity = '0';
                    emoji.style.transform = 'translateX(-50%)';
                    emoji.style.animation = `fall ${Math.floor(Math.random() * 5) + 5}s linear forwards`; // 5s - 10s (å‡æ…¢é€Ÿåº¦)
                    
                    emojiContainer.appendChild(emoji);
                    
                    // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
                    setTimeout(() => {
                        emoji.remove();
                    }, 12000);
                }, i * 100);
            }
            
            // å¾ªç¯æ’­æ”¾è¡¨æƒ…åŒ…æ‰è½æ•ˆæœ
            setTimeout(startEmojiRain, 8000);
        }
    </script>


</body></html>