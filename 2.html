<html lang="zh-CN"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>生日快乐！</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Google Fonts - ZCOOL KuaiLe -->
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&amp;display=swap" rel="stylesheet">
    <!-- GSAP 动画库 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <!-- particles.js -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B8B',
                        secondary: '#8B5CF6',
                        accent: '#06D6A0',
                        info: '#118AB2',
                        warning: '#FFD166',
                    },
                    fontFamily: {
                        'cute': ['ZCOOL KuaiLe', 'cursive'],
                    },
                    animation: {
                        'float': 'float 3s ease-in-out infinite',
                        'float-slow': 'float 4s ease-in-out infinite',
                        'float-fast': 'float 2s ease-in-out infinite',
                        'twinkle': 'twinkle 1s ease-in-out infinite alternate',
                        'spin-slow': 'spin 8s linear infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        twinkle: {
                            '0%': { transform: 'scale(1)' },
                            '100%': { transform: 'scale(1.1)' },
                        }
                    },
                    boxShadow: {
                        'neon': '0 0 5px theme("colors.primary"), 0 0 20px theme("colors.primary")',
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            }
            .text-shadow-lg {
                text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.5);
            }
            .backdrop-blur-sm {
                backdrop-filter: blur(4px);
            }
            .glass-effect {
                background: rgba(255, 255, 255, 0.2);
                backdrop-filter: blur(8px);
                border: 1px solid rgba(255, 255, 255, 0.3);
            }
        }
        
        /* 自定义样式 */
        body {
            font-family: 'ZCOOL KuaiLe', cursive;
            overflow-x: hidden;
        }
        
        .flame {
            transition: all 0.3s ease;
        }
        
        .flame.blown {
            transform: scale(0);
            opacity: 0;
        }
        
        .video-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: opacity 0.3s ease;
        }
        
        .video-overlay:hover {
            background-color: rgba(0, 0, 0, 0.4);
        }
        
        .play-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 0.3s ease;
        }
        
        .play-button:hover {
            transform: scale(1.1);
        }
        
        .play-button::before {
            content: '';
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 15px 0 15px 25px;
            border-color: transparent transparent transparent #FF6B8B;
        }
        
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
        }
        
        /* 表情包掉落动画 */
        @keyframes fall {
            0% {
                transform: translateX(-50%) translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateX(-50%) translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
        
        /* 气球动画 */
        @keyframes balloon-float {
            0% {
                transform: translateY(100vh) rotate(0deg);
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
            }
        }
        
        /* 星星闪烁动画 */
        @keyframes star-twinkle {
            0% {
                opacity: 0.3;
                transform: scale(0.8);
            }
            50% {
                opacity: 1;
                transform: scale(1.2);
            }
            100% {
                opacity: 0.3;
                transform: scale(0.8);
            }
        }
    </style>
</head>
<body>
    <!-- 日期验证页面 -->
    <div id="date-check" class="min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 p-4">
        <div class="bg-white rounded-xl p-8 max-w-md w-full shadow-lg">
            <p class="text-lg md:text-xl text-gray-800 mb-6 text-center font-cute">今天是几号？</p>
            <div class="flex justify-center">
                <input type="text" id="date-input" placeholder="例如：11.1" class="px-6 py-3 rounded-full border-2 border-primary focus:outline-none focus:ring-4 focus:ring-primary/30 text-center text-lg w-40 font-cute">
            </div>
            <div class="text-center mt-6">
                <button onclick="validateDate()" id="confirm-date" class="bg-primary hover:bg-primary/80 text-white py-3 px-8 rounded-full shadow-lg transition-all transform hover:scale-105 font-cute text-lg">
                    <i class="fa fa-check-circle mr-2"></i>确认
                </button>
            </div>
            <p id="error-message" class="text-red-500 text-center mt-4 hidden font-cute">日期不对哦，再想想看！</p>
        </div>
    </div>

    <!-- 主页面 -->
    <div id="birthday-page" class="min-h-screen bg-cover bg-center relative" style="background-image: url('https://p9-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/bc022625c8fc4212876af85cc04394cb~tplv-a9rns2rl98-image.image?rcl=20251026093343D2B50CD2956EBB03149A&amp;rk3s=8e244e95&amp;rrcfp=f06b921b&amp;x-expires=1764034442&amp;x-signature=DiU8JdJRsGOgBj94DdNrALXoI50%3D'); display: none;">
        <!-- 粒子背景 -->
        <div id="particles-js"></div>
        
        <!-- 动态气球 -->
        <div id="balloons-container" class="absolute inset-0 pointer-events-none"></div>
        
        <!-- 动态星星 -->
        <div id="stars-container" class="absolute inset-0 pointer-events-none"></div>
        
        <!-- 页面内容 -->
        <div class="container mx-auto px-4 py-8 relative z-10">
            <!-- 标题区域 -->
            <div class="text-center mb-8">
                <img src="https://p3-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/44663473c630488c8ce8c5184a9c2b4e.png~tplv-a9rns2rl98-24:720:720.png?rcl=20251026144708DC0A1E40A1DF1544C65D&amp;rk3s=8e244e95&amp;rrcfp=8a172a1a&amp;x-expires=1762066029&amp;x-signature=aOZHPcQefYmHmty9KmvmI5eO%2FmA%3D" alt="生日快乐" class="w-100 md:w-120 mx-auto mb-4 animate-float">
                <h1 class="text-4xl md:text-6xl font-bold text-white mb-4 text-shadow-lg animate-float">🎉 祝李欣悦生日快乐！!！ 🎉</h1>
                <p class="text-xl md:text-2xl text-white text-shadow animate-float-slow">愿今天充满欢笑和美好回忆！</p>
            </div>
            
            <!-- 生日蛋糕区域 -->
            <div class="text-center mb-12">
                <div id="cake-container" class="relative inline-block">
                    <!-- 使用透明背景的蛋糕图片 -->
                    <img src="https://p11-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/5553a360f75b4ef7b5be12a3ec548497.png~tplv-a9rns2rl98-24:720:720.png?rcl=20251026142310FA13274710DF543336F4&amp;rk3s=8e244e95&amp;rrcfp=8a172a1a&amp;x-expires=1762064590&amp;x-signature=a72SLriME6inKu8qpMptchA4uLs%3D" alt="生日蛋糕" class="cake w-64 md:w-80 drop-shadow-2xl">
                </div>
            </div>
            
            <!-- 祝福语区域 -->
            <div id="birthday-message" class="bg-white/80 backdrop-blur-sm rounded-xl p-6 md:p-8 shadow-lg max-w-2xl mx-auto mb-12">
                <h2 class="text-2xl md:text-3xl font-bold text-primary mb-4 text-center">生日祝福</h2>
                <p class="text-lg text-gray-800 mb-4">亲爱的朋友，</p>
                <p class="text-lg text-gray-800 mb-4">在这个特别的日子里，祝你生日快乐！愿你每一天都充满阳光和笑容，所有的梦想都能成真，所有的愿望都能实现！</p>
                <p class="text-lg text-gray-800 mb-4">希望这个小小的网页能给你带来欢乐和惊喜</p>
                <p class="text-lg text-gray-800 text-right">爱你的朋友</p>
            </div>
            
            <!-- 视频区域 -->
            <div id="video-section" class="mb-8">
                <div class="video-container">
                    <div id="video-overlay" class="video-overlay">
                        <div class="play-button"></div>
                    </div>
                    <video id="birthday-video" class="w-full h-auto" poster="https://p3-doubao-search-sign.byteimg.com/labis/f158542242f342c55e953ada114f5610~tplv-be4g95zd3a-image.jpeg?rk3s=542c0f93&amp;x-expires=1776994430&amp;x-signature=ZtI8DF7uYIuFR7Dnu8ErXxjpV6c%3D" controls="">
                        <source src="https://example.com/birthday-video.mp4" type="video/mp4">
                        您的浏览器不支持视频播放。
                    </video>
                </div>
                <p class="text-center text-white mt-4 text-shadow">点击播放生日祝福视频</p>
            </div>
        </div>
    </div>

    <script>
        // 简化版日期验证功能
        function validateDate() {
            const inputValue = document.getElementById('date-input').value.trim();
            const correctDate = '11.1';
            
            if (inputValue === correctDate) {
                // 日期正确，显示生日页面
                document.getElementById('date-check').style.display = 'none';
                document.getElementById('birthday-page').style.display = 'block';
                
                // 初始化生日页面的动画和功能
                initBirthdayPage();
                
                // 开始掉落表情包
                startEmojiRain();
            } else {
                // 日期错误，显示错误信息
                document.getElementById('error-message').style.display = 'block';
                
                // 添加错误动画
                gsap.from(document.getElementById('error-message'), {
                    y: -10,
                    opacity: 0,
                    duration: 0.5
                });
                
                // 输入框震动效果
                gsap.from(document.getElementById('date-input'), {
                    x: 10,
                    repeat: 3,
                    yoyo: true,
                    duration: 0.1
                });
            }
        }
        
        // 页面加载完成后绑定事件
        window.onload = function() {
            console.log('页面加载完成');
            
            // 绑定输入框回车事件
            const dateInput = document.getElementById('date-input');
            if (dateInput) {
                dateInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        validateDate();
                    }
                });
                console.log('输入框回车事件已绑定');
            }
        }
        
        // 初始化生日页面的动画和功能
        function initBirthdayPage() {
            // 创建动态气球
            createBalloons();
            
            // 创建动态星星
            createStars();
            
            // 创建旋转的礼物盒
            createGiftBoxes();
            
            // 初始化粒子效果
            initParticles();
            
            // 初始化视频播放功能
            initVideoPlayer();
            
            // 初始化蛋糕蜡烛吹灭功能
            initCakeCandles();
            
            // 添加页面载入动画
            gsap.from('.container > div', {
                y: 50,
                opacity: 0,
                duration: 1,
                stagger: 0.2,
                ease: 'power3.out'
            });
            
            // 添加飘落的彩带效果
            setTimeout(createFallingConfetti, 2000);
        }
        
        // 创建动态气球
        function createBalloons() {
            const container = document.getElementById('balloons-container');
            const balloonImages = [
                'https://p3-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/682c0f3a563e4cd991139899638af2c1.png~tplv-a9rns2rl98-24:720:720.png?rcl=2025102613385840D32ED41B3FD324FC3B&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1762061938&x-signature=MJZi36afFjWkSQYcC3ab0xnNMhw%3D',
                'https://p3-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/c72443dd3972400cac364c2f06edb4fc.png~tplv-a9rns2rl98-24:720:720.png?rcl=2025102613385840D32ED41B3FD324FC3B&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1762061938&x-signature=Hg0Cw%2BZwQ%2Fe68gh3n7fpk%2FMLWzY%3D',
                'https://p3-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/c02cfed76ef549b3a2192b7042fe8846.png~tplv-a9rns2rl98-24:720:720.png?rcl=2025102613385840D32ED41B3FD324FC3B&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1762061938&x-signature=vPj5Xh5Y5hcFpocEDIFEnSngD1k%3D',
                'https://p26-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/d98da1f727624dd29864fd6fc4d4e78a.png~tplv-a9rns2rl98-24:720:720.png?rcl=20251026142701ED7354B058C17078848C&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1762064821&x-signature=2zkB86jlUJEBwZbL8SDiRBadYJU%3D'
            ];
            const balloonCount = 6; // 增加气球数量
            
            // 清空容器，重新创建所有气球
            container.innerHTML = '';
            
            for (let i = 0; i < balloonCount; i++) {
                const balloon = document.createElement('img');
                
                // 随机设置气球属性
                const width = Math.floor(Math.random() * 40) + 180; // 180px - 220px (减少宽度)
                const height = Math.floor(Math.random() * 40) + 240; // 240px - 280px (保持高度)
                const left = Math.floor(Math.random() * 100); // 0% - 100%
                const animationDuration = Math.floor(Math.random() * 20) + 30; // 30s - 50s (调慢气球上升速度)
                const animationDelay = Math.floor(Math.random() * 10); // 0s - 10s
                
                // 设置气球样式
                balloon.src = balloonImages[Math.floor(Math.random() * balloonImages.length)];
                balloon.alt = '气球';
                balloon.style.width = `${width}px`;
                balloon.style.height = `${height}px`;
                balloon.style.position = 'absolute';
                balloon.style.left = `${left}%`;
                balloon.style.bottom = '-200px';
                balloon.style.transform = 'translateX(-50%)';
                balloon.style.animation = `balloon-float ${animationDuration}s linear ${animationDelay}s infinite`;
                balloon.style.pointerEvents = 'none'; // 移除点击事件
                
                container.appendChild(balloon);
                
                // 监听动画结束事件，确保气球不会消失
                balloon.addEventListener('animationend', function() {
                    // 动画结束后，重新开始动画
                    this.style.animation = 'none';
                    this.offsetHeight; // 触发重排
                    this.style.animation = `balloon-float ${animationDuration}s linear ${Math.random() * 5}s infinite`;
                });
            }
        }
        
        // 创建气球爆炸效果（已取消）
        function createBalloonExplosion(balloon) {
            // 取消气球爆炸功能
            return;
        }
        
        // 创建动态星星
        function createStars() {
            const container = document.getElementById('stars-container');
            const starCount = 30;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                
                // 随机设置星星属性
                const size = Math.floor(Math.random() * 8) + 4; // 4px - 12px
                const left = Math.floor(Math.random() * 100); // 0% - 100%
                const top = Math.floor(Math.random() * 100); // 0% - 100%
                const animationDuration = Math.floor(Math.random() * 2) + 1; // 1s - 3s
                const animationDelay = Math.floor(Math.random() * 5); // 0s - 5s
                
                // 设置星星样式
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.backgroundColor = 'white';
                star.style.borderRadius = '50%';
                star.style.position = 'absolute';
                star.style.left = `${left}%`;
                star.style.top = `${top}%`;
                star.style.animation = `star-twinkle ${animationDuration}s ease-in-out ${animationDelay}s infinite`;
                star.style.boxShadow = '0 0 10px white';
                
                container.appendChild(star);
            }
        }
        
        // 创建礼物盒
        function createGiftBoxes() {
            const container = document.getElementById('birthday-page');
            const giftBoxImages = [
                'https://p11-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/59ae7818a05e4e0a9beb0e6c7e08b0d6.png~tplv-a9rns2rl98-24:720:720.png?rcl=202510261345290B36ED25D1D32E2691F5&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1762062330&x-signature=1gbXHL0c4rfMoH7bDvOzZlxPh9M%3D',
                'https://p26-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/daa452dada064a94b42d8decfd92a0d8.png~tplv-a9rns2rl98-24:720:720.png?rcl=20251026153244E8B619B2BF418639B97D&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1762068764&x-signature=9eAd%2BhR%2FFcZOpC0M%2BRzVIU0lzfw%3D'
            ];
            const giftBoxCount = 2; // 只需要两个礼品盒，分别链接到生日祝福和视频
            
            // 计算间距相等的位置
            const spacing = 100 / (giftBoxCount + 1);
            
            for (let i = 0; i < giftBoxCount; i++) {
                // 创建链接容器
                const giftLink = document.createElement('a');
                
                // 设置链接目标
                if (i === 0) {
                    giftLink.href = '#birthday-message'; // 链接到生日祝福文案
                } else {
                    giftLink.href = '#video-section'; // 链接到视频
                }
                
                // 设置链接样式
                giftLink.style.position = 'absolute';
                giftLink.style.left = i === 0 ? '10%' : '90%'; // 靠两边摆放
                giftLink.style.bottom = '20px';
                giftLink.style.transform = 'translateX(-50%)';
                giftLink.style.cursor = 'pointer';
                giftLink.style.zIndex = '10';
                
                // 创建礼品盒图片
                const giftBox = document.createElement('img');
                
                // 设置礼物盒属性
                const size = Math.floor(Math.random() * 80) + 300; // 300px - 380px (增大尺寸)
                
                // 设置礼物盒样式
                giftBox.src = giftBoxImages[i]; // 使用不同的图片
                giftBox.alt = '礼物盒';
                giftBox.style.width = `${size}px`;
                giftBox.style.height = `${size}px`;
                giftBox.style.animation = 'float 3s ease-in-out infinite';
                giftBox.style.transition = 'transform 0.3s ease';
                
                // 添加悬停效果
                giftLink.addEventListener('mouseenter', function() {
                    giftBox.style.transform = 'scale(1.1)';
                });
                
                giftLink.addEventListener('mouseleave', function() {
                    giftBox.style.transform = 'scale(1)';
                });
                
                // 添加点击效果
                giftLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if (targetElement) {
                        // 平滑滚动到目标位置
                        window.scrollTo({
                            top: targetElement.offsetTop - 100,
                            behavior: 'smooth'
                        });
                        
                        // 添加点击反馈
                        giftBox.style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            giftBox.style.transform = 'scale(1)';
                        }, 200);
                    }
                });
                
                // 将礼品盒添加到链接容器
                giftLink.appendChild(giftBox);
                
                // 将链接容器添加到页面
                container.appendChild(giftLink);
            }
        }
        
        // 创建飘落的彩带效果
        function createFallingConfetti() {
            const container = document.getElementById('birthday-page');
            const confettiCount = 100;
            const colors = ['#FF6B8B', '#8B5CF6', '#06D6A0', '#118AB2', '#FFD166'];
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                
                // 随机设置彩带属性
                const size = Math.floor(Math.random() * 10) + 5; // 5px - 15px
                const left = Math.floor(Math.random() * 100); // 0% - 100%
                const rotation = Math.floor(Math.random() * 360); // 0度 - 360度
                const animationDuration = Math.floor(Math.random() * 5) + 5; // 5s - 10s (减慢速度)
                const animationDelay = Math.floor(Math.random() * 5); // 0s - 5s
                
                // 设置彩带样式
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size * 3}px`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.position = 'absolute';
                confetti.style.left = `${left}%`;
                confetti.style.top = '-50px';
                confetti.style.transform = `rotate(${rotation}deg)`;
                confetti.style.animation = `fall ${animationDuration}s linear ${animationDelay}s infinite`;
                confetti.style.pointerEvents = 'none';
                
                container.appendChild(confetti);
            }
        }
        
        // 初始化粒子效果
        function initParticles() {
            particlesJS('particles-js', {
                "particles": {
                    "number": {
                        "value": 80,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": ["#FF6B8B", "#8B5CF6", "#06D6A0", "#118AB2", "#FFD166"]
                    },
                    "shape": {
                        "type": "circle",
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        }
                    },
                    "opacity": {
                        "value": 0.5,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 5,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 2,
                            "size_min": 0.1,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 150,
                        "color": "#ffffff",
                        "opacity": 0.2,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 1,
                        "direction": "none",
                        "random": true,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": true,
                            "mode": "grab"
                        },
                        "onclick": {
                            "enable": true,
                            "mode": "push"
                        },
                        "resize": true
                    },
                    "modes": {
                        "grab": {
                            "distance": 140,
                            "line_linked": {
                                "opacity": 0.5
                            }
                        },
                        "push": {
                            "particles_nb": 4
                        }
                    }
                },
                "retina_detect": true
            });
        }
        
        // 初始化视频播放功能
        function initVideoPlayer() {
            const video = document.getElementById('birthday-video');
            const videoOverlay = document.getElementById('video-overlay');
            
            // 点击播放按钮播放视频
            videoOverlay.addEventListener('click', function() {
                video.play();
                videoOverlay.style.display = 'none';
                
                // 视频播放完成后显示重播按钮
                video.addEventListener('ended', function() {
                    videoOverlay.style.display = 'flex';
                });
            });
        }
        
        // 初始化蛋糕蜡烛吹灭功能
        function initCakeCandles() {
            const cakeContainer = document.getElementById('cake-container');
            const flames = document.querySelectorAll('.flame');
            let candlesBlown = 0;
            
            cakeContainer.addEventListener('click', function() {
                // 随机吹灭1-3根蜡烛
                const candlesToBlow = Math.floor(Math.random() * 3) + 1;
                
                flames.forEach((flame, index) => {
                    if (!flame.classList.contains('blown') && index < candlesBlown + candlesToBlow) {
                        flame.classList.add('blown');
                        candlesBlown++;
                        
                        // 添加吹灭动画
                        gsap.to(flame, {
                            scale: 0,
                            opacity: 0,
                            duration: 0.3
                        });
                    }
                });
                
                // 所有蜡烛都被吹灭后触发庆祝效果
                if (candlesBlown >= flames.length) {
                    setTimeout(() => {
                        createFallingConfetti();
                        
                        // 添加蛋糕庆祝动画
                        gsap.to('.cake', {
                            scale: 1.1,
                            duration: 0.5,
                            repeat: 3,
                            yoyo: true
                        });
                    }, 500);
                }
            });
        }
        
        // 表情包掉落效果
        function startEmojiRain() {
            const emojis = ['❤️', '🥳', '🎶', '🎂', '🍩', '🍨', '🍫', '🍬', '🍭', '🍧', '🍪', '🍇', '🍉', '🍋', '🍍', '🫐', '🍑', '🍓', '🍒', '🍐', '🍎', '🥝'];
            const container = document.getElementById('birthday-page');
            const emojiCount = 50;
            
            // 创建表情包容器
            let emojiContainer = document.getElementById('emoji-container');
            if (!emojiContainer) {
                emojiContainer = document.createElement('div');
                emojiContainer.id = 'emoji-container';
                emojiContainer.style.position = 'fixed';
                emojiContainer.style.top = '0';
                emojiContainer.style.left = '0';
                emojiContainer.style.width = '100%';
                emojiContainer.style.height = '100%';
                emojiContainer.style.pointerEvents = 'none';
                emojiContainer.style.zIndex = '100';
                container.appendChild(emojiContainer);
            }
            
            // 生成表情包
            for (let i = 0; i < emojiCount; i++) {
                setTimeout(() => {
                    const emoji = document.createElement('div');
                    emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                    emoji.style.position = 'absolute';
                    emoji.style.fontSize = `${Math.floor(Math.random() * 20) + 20}px`;
                    emoji.style.left = `${Math.floor(Math.random() * 100)}%`;
                    emoji.style.top = '-50px';
                    emoji.style.opacity = '0';
                    emoji.style.transform = 'translateX(-50%)';
                    emoji.style.animation = `fall ${Math.floor(Math.random() * 5) + 5}s linear forwards`; // 5s - 10s (减慢速度)
                    
                    emojiContainer.appendChild(emoji);
                    
                    // 动画结束后移除元素
                    setTimeout(() => {
                        emoji.remove();
                    }, 12000);
                }, i * 100);
            }
            
            // 循环播放表情包掉落效果
            setTimeout(startEmojiRain, 8000);
        }
    </script>


</body></html>